title: Home

resources:
  - url: /customcards/github/custom-cards/button-card.js?track=true
    type: module
  - url: /local/lovelace/group-card.js?track=true
    type: js
  - url: /customcards/github/thomasloven/card-tools.js?track=true
    type: js
  - url: /customcards/github/thomasloven/layout-card.js?track=true
    type: js
  - url: /customcards/github/custom-cards/tracker-card.js?track=true
    type: module
  - url: /local/config-template-card.js
    type: module
  # Calendar
  - url: https://unpkg.com/moment@2.22.2/moment.js
    type: js
  - url: /local/custom_ui/calendar-card/calendar-card.js?track=true
    type: module

views:
  - title: Home
    id: home
    icon: mdi:home
    background: var(--background-image)
    badges:
      - person.mirko
      - person.mika
      - person.jona
      - person.femke

    cards:
      - type: "custom:config-template-card"
        variables:
          - states['group.ground_floor'].state
          - states['group.first_floor_lights'].state
          - states['group.second_floor'].state
        entities:
          - group.ground_floor
          - group.first_floor_lights
          - group.second_floor
        card:
          type: 'custom:hui-glance-card'
          entities:
            - entity: group.ground_floor
              hold_action:
                  action: toggle
              icon: "${vars[0] === 'on' ? 'mdi:numeric-1-box' : 'mdi:mdi:numeric-1-box-outline' }"
            - entity: group.first_floor_lights
              hold_action:
                  action: toggle
              icon: "${vars[1] === 'on' ? 'mdi:numeric-2-box' : 'mdi:mdi:numeric-2-box-outline' }"
            - entity: group.second_floor
              hold_action:
                  action: toggle
              icon: "${vars[2] === 'on' ? 'mdi:numeric-3-box' : 'mdi:mdi:numeric-3-box-outline' }"
      # - type: glance
      #   id: overview_glance
      #   entities:
      #     - entity: group.ground_floor
      #       hold_action:
      #           action: toggle
      #       icon: mdi:numeric-1-box-multiple-outline
      #     - entity: group.first_floor_lights
      #       hold_action:
      #           action: toggle
      #       icon: mdi:numeric-2-box-multiple-outline
      #     - entity: group.second_floor
      #       hold_action:
      #           action: toggle
      #       icon: mdi:numeric-3-box-multiple-outline
      - type: weather-forecast
        id: overview_weather_forecast
        entity: weather.wetter
      - type: "custom:calendar-card"
        id: overview_calendars
        name: "Kalendar"
        showProgressBar: false
        numberOfDays: 7
        entities:
          - calendar.femke_schuh
          - calendar.hrschuhgooglemailcom
          - calendar.familie
      - type: history-graph
        id: overview_history_graph_temp
        title: Temperatur
        hours_to_show: 48
        entities:
          - sensor.aeotec_zw100_multisensor_6_temperature
          - sensor.dark_sky_temperature     

  - title: EG
    id: groundfloor
    background: var(--background-image)
    cards:
      - type: "custom:config-template-card"
        entities:
          - group.kitchen
          - group.livingroom
          - group.garden_lights
        card:
          type: 'custom:hui-glance-card'
          entities:
            - entity: group.kitchen
              hold_action:
                  action: toggle
              icon: "${states['group.kitchen'].state === 'on' ? 'mdi:coffee' : 'mdi:coffee-outline' }"
            - entity: group.livingroom
              hold_action:
                  action: toggle
              icon: "${states['group.livingroom'].state === 'on' ? 'mdi:seat' : 'mdi:seat-outline' }"
            - entity: group.garden_lights
              hold_action:
                  action: toggle
              icon: "${states['group.garden_lights'].state === 'on' ? 'mdi:flower' : 'mdi:flower-outline' }"

    # - type: glance
      #   id: gf_glance
      #   entities:
      #     - entity: group.kitchen
      #       hold_action:
      #           action: toggle
      #       icon: mdi:coffee
      #       #grill
      #     - entity: group.livingroom
      #       hold_action:
      #           action: toggle
      #       icon: mdi:seat
      #     - entity: group.garden_lights
      #       hold_action:
      #           action: toggle
      #       icon: mdi:flower
      - type: custom:group-card
        id: overview_scenes
        group: group.scenes
        card:
          type: entities
          title: Szenen
          show_header_toggle: false
      - type: custom:group-card
        id: gf_entrence_lights
        group: group.entree_lights
        card:
          type: entities
          title: Eingangsbereich
      - type: custom:group-card
        id: gf_kitchen_entities
        group: group.kitchen_lights
        card:
          type: entities
          title: "K\xFCche Lichter"
      - type: custom:group-card
        id: gf_living_room_lights
        group: group.livingroom_lights
        card:
          type: entities
          title: Wohnzimmer Lichter
      - type: custom:group-card
        id: gf_garden_lights
        group: group.garden_lights
        card:
          type: entities
          title: Garten
      - type: custom:group-card
        id: gf_media_contrl_rxv_radio
        group: group.yamaha_radio
        card:
          type: entities
          title: Yamaha Radio
      - type: media-control
        id: gf_media_control_rxv_zone1
        entity: media_player.yamaha_receiver
      - type: media-control
        id: gf_media_control_rxv_zone2
        entity: media_player.yamaha_receiver_zone_2
      - type: media-control
        id: gf_media_control_panasonic
        entity: media_player.panasonic_viera_tv

  - title: OG
    id: firstfloor
    background: var(--background-image)
    cards:
      - type: glance
        id: ff_glance
        entities:
          - entity: group.ff_floor_lights
            hold_action:
                action: toggle
            icon: mdi:home-heart
          - entity: group.ff_children
            hold_action:
                action: toggle
            icon: mdi:account-supervisor
      - type: horizontal-stack
        id: ff_aeotec_zw100_multisensor
        cards: 
          - type: sensor
            id: ff_sensor_temperature
            entity: sensor.aeotec_zw100_multisensor_6_temperature
            name: Temperatur
            graph: line
            height: 50
            line_color: "#3498db"
          - type: sensor
            id: ff_sensor_luminance
            entity: sensor.aeotec_zw100_multisensor_6_luminance
            name: Helligkeit
            graph: line
            height: 50
            line_color: "#3498db"
      - type: entities
        id: ff_floor_light_entities
        title: Flur
        show_header_toggle: true
        entities:
          - light.meq0397149
          - switch.ff_floor_tree
      - type: custom:group-card
        id: ff_group_mika
        group: group.ff_mika
        card:
          type: entities
          title: Mika
      - type: custom:group-card
        id: ff_group_jona
        group: group.ff_jona
        card:
          type: entities
          title: Jona
      - type: media-control
        id: ff_media_control_alexa_bath
        entity: media_player.alexas_echo_dot

  - title: DG
    id: secondfloor
    background: var(--background-image)
    cards:
      - type: glance
        id: sf_glance
        entities:
          - entity: group.sf_work_lights
            hold_action:
                action: toggle
            icon: mdi:monitor-cellphone-star
          - entity: group.sf_bedroom_lights
            hold_action:
                action: toggle
            icon: mdi:hotel
      - type: custom:group-card
        id: sf_multimedia
        group: group.sf_alexas
        card:
          type: entities
          show_header_toggle: false
      - type: custom:group-card
        id: sf_group_work
        group: group.sf_work_lights
        card:
          type: entities
          title: Arbeitszimmer
      - type: custom:group-card
        id: sf_group_bedroom
        group: group.sf_bedroom_lights
        card:
          type: entities
          title: Schlafzimmer

  - title: System
    id: system
    icon: mdi:cogs
    background: var(--background-image)
    cards:
      - type: horizontal-stack
        id: system_sensor_speedtest
        cards:
          - type: sensor
            id: system_sensor_speedtest_down
            entity: sensor.speedtest_download
            name: Download
            graph: line
          - type: sensor
            id: system_sensor_speedtest_up
            entity: sensor.speedtest_upload
            name: Upload
            graph: line
      - type: horizontal-stack
        id: system_sensor_pihole
        cards:
          - type: sensor
            id: system_sensor_pi_hole_ads_percentage_blocked_today
            entity: sensor.pi_hole_ads_percentage_blocked_today
            name: "% Ads blocked"
            graph: line
          - type: sensor
            id: system_sensor_pi_hole_dns_queries_today
            entity: sensor.pi_hole_dns_queries_today
            name: DNS queries
            graph: line
      - type: horizontal-stack
        id: system_raspberry
        cards:
          - type: sensor
            id: system_sensor_raspberry_load_5m
            entity: sensor.load_5m
            unit: '%'
            graph: line
          - type: sensor
            id: system_sensor_raspberry_disk_use_percent_home
            entity: sensor.disk_use_percent_home
            graph: line
      - type: entities
        id: system_raspberry_entities
        title: Raspberry
        show_header_toggle: false
        entities:
          - sensor.load_5m
          - sensor.memory_use_percent
          - sensor.load_1m
          - sensor.load_15m
          - sensor.disk_use_percent_home
          - sensor.last_boot
      - type: custom:group-card
        id: system_ha_versions
        group: group.hass_versions
        card:
          type: entities
          title: HA Versions
          show_header_toggle: false
      - type: entities
        id: system_battery_entities
        title: Batterien
        show_header_toggle: false
        entities:
          - sensor.tradfri_wireless_dimmer

  - title: Dies&Das
    id: diesdas
    icon: mdi:creation
    background: var(--background-image)
    cards:
      - type: custom:group-card
        id: overview_alexas
        group: group.alexas
        card:
          type: entities
          title: Alexas
          show_header_toggle: false
      - type: custom:group-card
        id: diesdas_states
        group: group.boolean_states
        card:
          type: entities
          title: Zust√§nde
          show_header_toggle: false      
      - type: sensor
        id: diesdas_history_graph_bt_presence
        entity: sensor.bt_presence_ff_family
        icon: mdi:account-supervisor-circle
        name: Anwesenheit
        unit: '%'
        graph: line
      - type: vertical-stack
        id: settings_theme
        cards:
          - type: "custom:button-card"
            color_type: label-card
            color: var(--background-card-color)
            name: Themes
            style:
              - color: var(--primary-text-color)
          - type: horizontal-stack
            cards:
            - type: custom:button-card
              entity: switch.frontend_theme_default
              name: Default
              icon: attribute
              size: 40%
              color: var(--accent-color)
            - type: custom:button-card
              entity: switch.frontend_theme_clear
              name: Day
              icon: attribute
              size: 40%
              color: var(--accent-color)
            - type: custom:button-card
              entity: switch.frontend_theme_dark
              name: Night
              icon: attribute
              size: 40%
              color: var(--accent-color)
          - type: horizontal-stack
            cards:
            - type: "custom:button-card"
              color_type: blank-card
            - type: custom:button-card
              entity: input_boolean.frontend_theme_day_night_switch
              name: "Auto switch"
              icon: attribute
              size: 40%
              color: var(--accent-color)
            - type: "custom:button-card"
              color_type: blank-card
      - type: custom:tracker-card
      - type: map
        id: diesdas_map
        entities:
          - device_tracker.mirko_owntracks
          - device_tracker.femke_owntracks
          - device_tracker.mika_owntracks
          - zone.home
          - zone.school
          - zone.work_ml
          - zone.work_salon
