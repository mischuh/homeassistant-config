title: Home

views:
  - title: Home
    id: home
    icon: mdi:home
    background: var(--background-image)
    badges:
      - person.mirko
      - person.mika
      - person.jona
      - person.femke
    cards:
      - type: "custom:config-template-card"
        variables:
          - states['group.ground_floor'].state
          - states['group.first_floor_lights'].state
          - states['group.second_floor'].state
        entities:
          - group.ground_floor
          - group.first_floor_lights
          - group.second_floor
        card:
          type: 'custom:hui-glance-card'
          entities:
            - entity: group.ground_floor
              hold_action:
                  action: toggle
              icon: "${vars[0] === 'on' ? 'mdi:numeric-1-box' : 'mdi:numeric-1-box-outline' }"
            - entity: group.first_floor_lights
              hold_action:
                  action: toggle
              icon: "${vars[1] === 'on' ? 'mdi:numeric-2-box' : 'mdi:numeric-2-box-outline' }"
            - entity: group.second_floor
              hold_action:
                  action: toggle
              icon: "${vars[2] === 'on' ? 'mdi:numeric-3-box' : 'mdi:numeric-3-box-outline' }"
      - type: conditional
        conditions:
          - entity: binary_sensor.display_card
            state: "on" 
          - entity: input_boolean.sunset
            state: "on"
          - entity: group.ground_floor
            state: "on"
        card:
          type: entities
          entities:
            - scene.groundfloor_good_night
      - type: conditional
        conditions:
          - entity: media_player.spotify_mirko
            state: "playing"
        card:
          type: media-control
          entity: media_player.spotify_mirko
      - type: conditional
        conditions:
          - entity: media_player.playstation_4
            state: "playing"
        card:
          type: media-control
          entity: media_player.playstation_4
      - type: conditional
        conditions:
          - entity: media_player.panasonic_viera_tv
            state: "playing"
          - entity: input_boolean.sunset
            state: "on"
        card:
          type: entities
          show_header_toggle: false
          entities:
            - scene.blockbuster
      - type: conditional
        conditions:
          - entity: group.stadtreinigung
            state: "on"
        card:
          type: custom:auto-entities
          show_empty: false
          card:
            type: glance
            title: Mülltonnen
          filter:
            include:
              - group: group.stadtreinigung
      - type: weather-forecast
        id: overview_weather_forecast
        entity: weather.wetter
      - type: "custom:calendar-card"
        id: overview_calendars
        name: "Kalendar"
        showProgressBar: false
        numberOfDays: 7
        entities:
          - calendar.femke_schuh
          - calendar.hrschuhgooglemailcom
          - calendar.familie

  - title: EG
    id: groundfloor
    background: var(--background-image)
    cards:
      - type: "custom:config-template-card"
        entities:
          - group.kitchen
          - group.livingroom
          - group.garden_lights
        card:
          type: 'custom:hui-glance-card'
          entities:
            - entity: group.kitchen
              hold_action:
                  action: toggle
              icon: "${states['group.kitchen'].state === 'on' ? 'mdi:coffee' : 'mdi:coffee-outline' }"
            - entity: group.livingroom
              hold_action:
                  action: toggle
              icon: "${states['group.livingroom'].state === 'on' ? 'mdi:seat' : 'mdi:seat-outline' }"
            - entity: group.garden_lights
              hold_action:
                  action: toggle
              icon: "${states['group.garden_lights'].state === 'on' ? 'mdi:flower' : 'mdi:flower-outline' }"
      - type: custom:auto-entities
        id: overview_scenes
        filter:
          include:
            - group: group.scenes
        card:
          type: entities
          title: Szenen
          show_header_toggle: false
      - type: custom:auto-entities
        id: gf_entrence_lights
        filter:
          include:
            - group: group.entree_lights
        card:
          type: entities
          title: Eingangsbereich
      - type: custom:auto-entities
        id: gf_kitchen_entities
        filter:
          include:
            - group: group.kitchen_lights
        card:
          type: entities
          title: "K\xFCche Lichter"
      - type: custom:auto-entities
        id: gf_living_room_lights
        filter:
          include:
            - group: group.livingroom_lights
        card:
          type: entities
          title: Wohnzimmer Lichter
      - type: custom:auto-entities
        id: gf_garden_lights
        filter:
          include:
            - group: group.garden_lights
        card:
          type: entities
          title: Garten
      - type: custom:auto-entities
        id: gf_wardrobe_entities
        filter:
          include:
            - group: group.wardrobe_lights
        card:
          type: entities
          title: "Garderobe Lichter"
      - type: custom:auto-entities
        id: gf_media_contrl_rxv_radio
        filter:
          include:
            - group: group.yamaha_radio
        card:
          type: entities
          title: Yamaha Radio
      - type: custom:mini-media-player
        id: gf_media_control_rxv_zone1
        artwork: cover
        icon: mdi:headphones
        entity: media_player.yamaha_receiver
      - type: custom:mini-media-player
        id: gf_media_control_rxv_zone2
        artwork: cover
        icon: mdi:speaker        
        entity: media_player.yamaha_receiver_zone_2
      - type: custom:mini-media-player
        id: gf_media_control_panasonic
        icon: mdi:television
        entity: media_player.panasonic_viera_tv

  - title: OG
    id: firstfloor
    background: var(--background-image)
    cards:
      - type: glance
        id: ff_glance
        entities:
          - entity: group.ff_floor_lights
            hold_action:
                action: toggle
            icon: mdi:home-heart
          - entity: group.ff_children
            hold_action:
                action: toggle
            icon: mdi:account-supervisor
      - type: horizontal-stack
        id: ff_aeotec_zw100_multisensor
        cards: 
          - type: custom:mini-graph-card
            id: ff_sensor_temperature
            name: Temperatur
            entities:
              - sensor.aeotec_zw100_multisensor_6_temperature
            show:
              labels: true
            color_thresholds:
              - value: 20
                color: "#f39c12"
              - value: 21
                color: "#d35400"
              - value: 21.5
                color: "#c0392b"
          - type: custom:mini-graph-card
            id: ff_sensor_luminance
            icon: mdi:brightness-7
            name: Helligkeit
            entities:
              - sensor.aeotec_zw100_multisensor_6_luminance
            show:
              labels: true
            color_thresholds:
              - value: 0
                color: "#1b3394"
              - value: 20
                color: "#247d32"
              - value: 40
                color: "#bfa017"
      - type: custom:auto-entities
        id: ff_floor_light_entities
        filter:
          include:
            - group: group.ff_floor_lights
        card:
          type: entities
          title: Flurlichter
      # - type: entities
      #   id: ff_floor_light_entities
      #   title: Flur
      #   show_header_toggle: true
      #   entities:
      #     - light.meq0397149
      #     - switch.ff_floor_tree
      #     - light.
      - type: custom:auto-entities
        id: ff_group_mika
        filter:
          include:
            - group: group.ff_mika
        card:
          type: entities
          title: Mika
      - type: custom:auto-entities
        id: ff_group_jona
        filter:
          include:
            - group: group.ff_jona
        card:
          type: entities
          title: Jona
      - type: media-control
        entity: media_player.echo_badezimmer

  - title: DG
    id: secondfloor
    background: var(--background-image)
    cards:
      - type: glance
        id: sf_glance
        entities:
          - entity: group.sf_work_lights
            hold_action:
                action: toggle
            icon: mdi:monitor-cellphone-star
          - entity: group.sf_bedroom_lights
            hold_action:
                action: toggle
            icon: mdi:bed-outline
      - type: media-control
        entity: media_player.echo_dg_schlafzimmer
      - type: media-control
        entity: media_player.echo_dg_arbeitszimmer
      - type: custom:auto-entities
        id: sf_group_work
        filter:
          include:
            - group: group.sf_work_lights
        card:
          type: entities
          title: Arbeitszimmer
      - type: custom:auto-entities
        id: sf_group_bedroom
        filter:
          include:
            - group: group.sf_bedroom_lights
        card:
          type: entities
          title: Schlafzimmer

  - title: System
    id: system
    icon: mdi:cogs
    background: var(--background-image)
    cards:
      - type: horizontal-stack
        title: Speedtest
        cards:
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.speedtest_ping
            index: 0
            name: Ping
          font_size: 70
          group: false
          hour24: true
          line_width: 6
          lower_bound: 0
          points_per_hour: 1
          show:
            extrema: true
            fill: fade
            icon: true
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.speedtest_download
            index: 0
            name: Download
          font_size: 70
          group: false
          hour24: true
          line_width: 6
          lower_bound: 0
          points_per_hour: 1
          show:
            extrema: true
            fill: fade
            icon: true
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.speedtest_upload
            index: 0
            name: Upload
          font_size: 70
          group: false
          hour24: true
          line_width: 6
          lower_bound: 0
          points_per_hour: 1
          show:
            extrema: true
            fill: fade
            icon: true
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card

      - type: horizontal-stack
        title: Pi Hole
        id: system_sensor_pihole
        cards:
          - type: sensor
            id: system_sensor_pi_hole_ads_percentage_blocked_today
            entity: sensor.pi_hole_ads_percentage_blocked_today
            name: "% Ads blocked"
            graph: line
          - type: sensor
            id: system_sensor_pi_hole_dns_queries_today
            entity: sensor.pi_hole_dns_queries_today
            name: DNS queries
            graph: line

      - type: horizontal-stack
        id: system_raspberry
        title: Raspberry Health
        cards:
          - type: custom:mini-graph-card
            color_thresholds_transition: smooth
            entities:
            - entity: sensor.load_5m
              index: 0
              name: Load 5m
            font_size: 70
            group: false
            hour24: true
            line_width: 6
            lower_bound: 0
            points_per_hour: 1
            show:
              extrema: true
              fill: fade
              icon: true
              labels: false
              name: true
              state: true
          - type: custom:mini-graph-card
            color_thresholds_transition: smooth
            entities:
            - entity: sensor.disk_use_percent_home
              index: 0
              name: Disk Use (%)
            font_size: 70
            group: false
            hour24: true
            line_width: 6
            lower_bound: 0
            points_per_hour: 1
            show:
              extrema: true
              fill: fade
              icon: true
              labels: false
              name: true
              state: true
          - type: custom:mini-graph-card
            color_thresholds_transition: smooth
            entities:
            - entity: sensor.memory_use_percent
              index: 0
              name: Memory Use (%)
            font_size: 70
            group: false
            hour24: true
            line_width: 6
            lower_bound: 0
            points_per_hour: 1
            show:
              extrema: true
              fill: fade
              icon: true
              labels: false
              name: true
              state: true

      - type: horizontal-stack
        id: system_raspberry
        title: Batterien
        cards:
        - type: sensor
          id: system_sensor_tradfri_wireless_dimmer
          entity: sensor.tradfri_wireless_dimmer
          name: Wireless Dimmer
          graph: line
        - type: sensor
          id: system_sensor_tradfri_motion_sensor
          entity: sensor.tradfri_motion_sensor
          name: Motion Sensor
          graph: line
        
  - title: Dies&Das
    id: diesdas
    icon: mdi:creation
    background: var(--background-image)
    cards:
      - type: entities
        id: diesdas_hvv2
        entities:
          - entity: sensor.departures_at_volksdorf
            name: Volksdorf
            type: custom:multiple-entity-row
            format: relative
            icon: mdi:train
            entities:
              - attribute: line
                name: Line
              - attribute: delay
                name: Delay
                unit: mins
      - type: custom:mini-graph-card
        id: ff_steps
        name: Schritte
        entities:
          - sensor.iphone_von_jona_steps
          - sensor.iphone_steps
          - sensor.galaxy_s10_steps_sensor
        show:
          labels: true
      - type: custom:auto-entities
        id: overview_alexas
        filter:
          include:
            - group: group.alexas
        card:
          type: entities
          title: Alexas
          show_header_toggle: false
      - type: custom:auto-entities
        id: diesdas_states
        filter:
          include:
            - group: group.boolean_states
        card:
          type: entities
          title: Zustände
          show_header_toggle: false
      - type: custom:auto-entities
        id: diesdas_stadtreinigung
        filter:
          include:
            - group: group.stadtreinigung
        card:
          type: entities
          title: Stadtreinigung
          show_header_toggle: false
      - type: vertical-stack
        id: settings_theme
        cards:
        - type: markdown
          content: "### Themes"
        - type: horizontal-stack
          cards:
          - type: custom:button-card
            entity: switch.frontend_theme_default
            name: Default
            size: 40%
          - type: custom:button-card
            entity: switch.frontend_theme_clear
            name: Day
            size: 40%
          - type: custom:button-card
            entity: switch.frontend_theme_dark
            name: Night
            size: 40%
        - type: horizontal-stack
          cards:
          - type: "custom:button-card"
            color_type: blank-card
          - type: custom:button-card
            entity: input_boolean.frontend_theme_day_night_switch
            name: "Auto switch"
            size: 40%
          - type: "custom:button-card"
            color_type: blank-card